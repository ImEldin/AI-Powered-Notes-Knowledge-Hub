<div class="login-container">
  <h2>Login</h2>

  <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
    <div>
      <label>Email:</label>
      <input type="email" formControlName="email" />
      <div
        *ngIf="
          loginForm.get('email')?.invalid && loginForm.get('email')?.touched
        "
      >
        {{ getEmailError() }}
      </div>
    </div>

    <div>
      <label>Password:</label>
      <input
        [type]="hidePassword ? 'password' : 'text'"
        formControlName="password"
      />
      <button type="button" (click)="togglePasswordVisibility()">
        {{ hidePassword ? "Show" : "Hide" }}
      </button>
      <div
        *ngIf="
          loginForm.get('password')?.invalid &&
          loginForm.get('password')?.touched
        "
      >
        {{ getPasswordError() }}
      </div>
    </div>

    <div>
      <label>
        <input type="checkbox" formControlName="rememberMe" />
        Remember me
      </label>
    </div>

    <div *ngIf="errorMessage" style="color: red">
      {{ errorMessage }}
    </div>

    <button type="submit" [disabled]="loading">
      <span *ngIf="loading">Loading...</span>
      <span *ngIf="!loading">Login</span>
    </button>
  </form>

  <div id="google-btn" class="google-btn"></div>

  <p>Don't have an account? <a routerLink="/auth/register">Sign up</a></p>
  <a routerLink="/auth/forgot-password" class="forgot-password">
    Forgot password?
  </a>
</div>
