<div class="reset-password-wrapper">
  <!-- Left Side - Branding -->
  <div class="reset-password-brand">
    <div class="brand-content">
      <div class="logo-placeholder">
        <div class="neon-gradient"></div>
      </div>
      <h2>AI-Powered Notes</h2>
      <p>Your intelligent knowledge hub</p>
    </div>
  </div>

  <!-- Right Side - Reset Password Form -->
  <div class="reset-password-container">
    <div class="reset-password-card" *ngIf="!resetSuccess">
      <h1 class="reset-password-title">Set new password</h1>
      <p class="reset-password-subtitle">Enter your new password below.</p>

      <form [formGroup]="resetPasswordForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label for="newPassword">New Password</label>
          <div class="password-input-wrapper">
            <input
              id="newPassword"
              [type]="hidePassword ? 'password' : 'text'"
              formControlName="newPassword"
              placeholder="Enter new password"
              [class.error]="
                resetPasswordForm.get('newPassword')?.invalid &&
                resetPasswordForm.get('newPassword')?.touched
              "
            />
            <button
              type="button"
              class="toggle-password"
              (click)="togglePasswordVisibility()"
            >
              <span *ngIf="hidePassword">ğŸ‘ï¸</span>
              <span *ngIf="!hidePassword">ğŸ‘ï¸â€ğŸ—¨ï¸</span>
            </button>
          </div>
          <span
            class="error-message"
            *ngIf="
              resetPasswordForm.get('newPassword')?.invalid &&
              resetPasswordForm.get('newPassword')?.touched
            "
          >
            {{ getPasswordError() }}
          </span>
        </div>

        <div class="form-group">
          <label for="confirmPassword">Confirm New Password</label>
          <div class="password-input-wrapper">
            <input
              id="confirmPassword"
              [type]="hideConfirmPassword ? 'password' : 'text'"
              formControlName="confirmPassword"
              placeholder="Confirm new password"
              [class.error]="
                (resetPasswordForm.get('confirmPassword')?.invalid ||
                  resetPasswordForm.hasError('passwordMismatch')) &&
                resetPasswordForm.get('confirmPassword')?.touched
              "
            />
            <button
              type="button"
              class="toggle-password"
              (click)="toggleConfirmPasswordVisibility()"
            >
              <span *ngIf="hideConfirmPassword">ğŸ‘ï¸</span>
              <span *ngIf="!hideConfirmPassword">ğŸ‘ï¸â€ğŸ—¨ï¸</span>
            </button>
          </div>
          <span
            class="error-message"
            *ngIf="
              resetPasswordForm.get('confirmPassword')?.invalid &&
              resetPasswordForm.get('confirmPassword')?.touched
            "
          >
            {{ getConfirmPasswordError() }}
          </span>
          <span
            class="error-message"
            *ngIf="
              resetPasswordForm.hasError('passwordMismatch') &&
              resetPasswordForm.get('confirmPassword')?.touched
            "
          >
            Passwords do not match
          </span>
        </div>

        <button
          type="submit"
          class="btn-primary"
          [disabled]="loading || resetPasswordForm.invalid"
        >
          <span *ngIf="!loading">Reset Password</span>
          <span *ngIf="loading">Resetting...</span>
        </button>
      </form>

      <p class="back-text">
        Remember your password?
        <a routerLink="/auth/login" class="back-link">Back to login</a>
      </p>
    </div>

    <!-- Success State -->
    <div class="reset-password-card success-card" *ngIf="resetSuccess">
      <div class="success-icon">
        <svg
          width="64"
          height="64"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
        >
          <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
          <polyline points="22 4 12 14.01 9 11.01"></polyline>
        </svg>
      </div>
      <h1 class="success-title">Password Reset Successful!</h1>
      <p class="success-subtitle">Your password has been successfully reset.</p>
      <p class="redirect-text">Redirecting to login page...</p>
      <button class="btn-primary" (click)="goToLogin()">Go to Login Now</button>
    </div>
  </div>
</div>
